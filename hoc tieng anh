import time
import random
import pyperclip
from pathlib import Path
from datetime import datetime

# ====== CONFIG ======
SENTENCE_FILE = "sentences.txt"
INTERVAL_MINUTES = 15      # <-- CUSTOM THá»œI GIAN á»ž ÄÃ‚Y
# ====================


def load_sentences(file_path):
    path = Path(file_path)
    if not path.exists():
        print("âŒ KhÃ´ng tÃ¬m tháº¥y file sentences.txt")
        return []

    with open(path, "r", encoding="utf-8") as f:
        return [line.strip() for line in f if line.strip()]


def main():
    sentences = load_sentences(SENTENCE_FILE)

    if not sentences:
        print("âš ï¸ File khÃ´ng cÃ³ cÃ¢u nÃ o.")
        return

    print("ðŸ“˜ English random sentence timer started")
    print(f"â±ï¸ Interval: {INTERVAL_MINUTES} minutes")
    print("ðŸŸ¢ App Ä‘ang cháº¡y... (Ctrl + C Ä‘á»ƒ dá»«ng)\n")

    while True:
        # ðŸŽ² Random 1 cÃ¢u má»—i vÃ²ng
        sentence = random.choice(sentences)

        # ðŸ“‹ Copy vÃ o clipboard
        pyperclip.copy(sentence)

        now = datetime.now().strftime("%H:%M:%S")
        print(f"[{now}] Copied:")
        print(f"   {sentence}\n")

        # â³ Äá»£i tá»›i láº§n tiáº¿p theo
        time.sleep(INTERVAL_MINUTES * 60)


if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\nâ›” ÄÃ£ dá»«ng bá»Ÿi ngÆ°á»i dÃ¹ng.")
